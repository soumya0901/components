<!doctype html>
<html>
<head>
	<style>
		.hidden{
			display:none;
		}
		
		.container{
			width:600px; height:400px;
			position:relative;
			float:left;	
			overflow:auto;			
		}
		.container .box{
			float:left;
			position:relative;
			width:200px;
			height:200px;
			border:1px solid #ccc;
			margin:5px;
		}
		.box .menu{
			width:175px;
			height:auto;
			border:1px solid red;
			position:absolute;
			top:0; left:0;
			padding:10px;
			z-index:2;
		}
		.view{display:block; background:red;}
	</style>
</head>
<body>

<a href="#abc">Open lightbox</a>
<div id="lightBox1" class="container">
	<div class="box">
		<div class="menu hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
	<div class="box">
		<div class="menu hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
	<div class="box">
		<div class="menu hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
	<div class="box">
		<div class="menu hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
	<div class="box">
		<div class="menu  hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
	<div class="box">
		<div class="menu hidden">
			adeqwewqewqeqwewqe<br />
			qweqweqwewqe<br />
			qweqweqweqweqwe<br />
			qweqweqweqwewqe<br />
			qweqwewqeqwewqe<br />
			qweqweqwewqewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqwewqe<br />
			qweqweqweqweqwe
		</div>
		<a class="view" href="#">X</a>
	</div>
</div>
	<script type="text/javascript" src="../js/jquery-1.11.0.min.js"></script>	
	<script>		
		$(function(){
		
			$('.container').on('mouseover','.view',function(e){
				e.preventDefault();
				var $elem = $(this).closest('.box').find('.menu'), 
					$box = $(this).closest('.box'), 
					boxPositionLeft = $box.position().left;
				var menuHeight = $elem.outerHeight() + 20, 
					boxPositionTop  = $box.position().top,
					containerHeight = $elem.closest('.container').height();
				//console.log(menuHeight);
				if(menuHeight + boxPositionTop > containerHeight ){
					//console.log(menuHeight + boxPositionTop - containerHeight);
					$elem.css({'left': '-5px', 'top': -(menuHeight-20) + 'px' });
				}else {
					$elem.css({'left': '-5px', 'top': '20px' });
				}
				$elem.removeClass('hidden');
			});
			$('.container').on('mouseleave', '.box .menu', function(e){
				$(this).addClass('hidden');
			});
			$('.container').on('mouseleave', '.box', function(e){
				$(this).find('.menu:visible').addClass('hidden');
			});
		
		});
	
	</script>
</body>
</html>